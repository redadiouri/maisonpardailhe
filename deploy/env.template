# Template for deployment environment variables
# Copy to deploy/env.txt (ignored) or provide values from your secret manager

SMTP_USER=your-smtp-user@example.com
SMTP_HOST=smtp.example.com
SMTP_PASS=__REPLACE_WITH_SMTP_PASSWORD__
SMTP_PORT=587
SMTP_REJECT_UNAUTHORIZED=true
EMAIL_SECRET=__REPLACE_WITH_EMAIL_SECRET__
FROM_ADDRESS="Maison Pardailhé <you@example.com>"

DB_HOST=db
DB_PORT=3306
DB_NAME=maisonpardailhe
DB_USER=maison_user
DB_PASSWORD=__REPLACE_WITH_DB_PASSWORD__
DB_ROOT_PASSWORD=__REPLACE_WITH_DB_ROOT_PASSWORD__

PORT=3001
TIMEZONE=Europe/Paris
NODE_ENV=production
SESSION_SECRET=__REPLACE_WITH_SESSION_SECRET__
APP_URL=https://xn--maisonpardailh-okb.fr
APP_HOST=xn--maisonpardailh-okb.fr

PROD_ALLOWED_ORIGINS=https://xn--maisonpardailh-okb.fr,https://sse.xn--maisonpardailh-okb.fr
EMAIL_FROM=Maison Pardailhé <you@example.com>
STRIPE_SECRET_KEY=
STRIPE_PUBLISHABLE_KEY=
STRIPE_WEBHOOK_SECRET=

BACKUP_CRON_TIME=0 3 * * *
BACKUP_MAX_BACKUPS=30
BACKUP_DIR=./backups
BACKUP_INIT=1
BACKUP_TIMEOUT=10m
BACKUP_GZIP_LEVEL=9

PHPMYADMIN_PORT=8080
PHPMYADMIN_UPLOAD_LIMIT=300M
PHPMYADMIN_MEMORY_LIMIT=512M
PHPMYADMIN_MAX_EXECUTION_TIME=600

NPM_ADMIN_PORT=81
NPM_HTTP_PORT=80
NPM_HTTPS_PORT=443
NPM_DISABLE_IPV6=true

DOCKER_IMAGE=mehdimp4/maisonpardailhe-server:latest

# Notes:
# - NEVER commit real secrets. Use a vault (GitHub Actions secrets, Azure Key Vault, HashiCorp Vault).
# - After rotating credentials, update deploy/env.txt on the host or CI secrets accordingly.
